<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Modification du profil - Freego</title>

  <!-- Bootstrap CSS -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-rbsA2VBKQhggwzxH7pPCaAqO46MgnOM80zW1RWuH61DGLwZJEdK2Kadq2F9CUG65" crossorigin="anonymous">

  <!-- Style -->
  <link rel="stylesheet" href="css/style.css">

  <!-- Google Icon -->
  <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">

  <style>
    #imgContainer {
      height: fit-content;
      display: flex;
      justify-content: center;
    }
    #profilImage {
      width: 100px;
      border-radius: 100px;
    }
    #infoContainer input {
      background-color: transparent;
      border: none;
      color: white;
    }
    #infoContainer input:focus {
      outline: none !important;
    }
    #arrowBack a i {
      font-size: 46px;
      color: white;
    }
  </style>
</head>
<body>
  <div class="allContent">
    <div id="arrowBack" class="row m-1">
      <a href="javascript:void(0)" onclick="location.href='profil.html?userID=' + sessionStorage.getItem('userID');"><i class="material-icons">keyboard_backspace</i></a>
    </div>
    <div id="imgContainer" class="row p-3">
      <img id="profilImage" src="images/person_profile.png"/>
    </div>
    <div id="infoContainer">
      <div class="row mx-3">
        <label for="pseudo" style="color: white;">Pseudo</label>
        <br>
        <input type="text" id="pseudo"/>
      </div>
      <hr class="mx-3" style="color: white; opacity: 1;">
      <div class="row mx-3">
        <label for="nom" style="color: white;">Nom</label>
        <br>
        <input type="text" id="nom"/>
      </div>
      <hr class="mx-3" style="color: white; opacity: 1;">
      <div class="row mx-3">
        <label for="prenom" style="color: white;">Prénom</label>
        <br>
        <input type="text" id="prenom"/>
      </div>
      <hr class="mx-3" style="color: white; opacity: 1;">
      <div class="row mx-3">
        <label for="email" style="color: white;">Email</label>
        <br>
        <input type="email" id="email"/>
      </div>
      <hr class="mx-3" style="color: white; opacity: 1;">
      <div class="row mx-3">
        <label for="motDePasse" style="color: white;">Mot de passe</label>
        <br>
        <input type="password" id="motDePasse"/>
        <span style="font-size: 10px; color: white;">Si vous laissez le champ vide, le mot de passe ne sera pas modifié !</span>
      </div>
      <hr class="mx-3" style="color: white; opacity: 1;">
      <div class="row mx-3" style="display: flex; justify-content: center;">
        <button class="btn_submit" onclick="sendInformation()" style="width: 50%; height: 40px;">Sauvegarder</button>
      </div>
    </div>
  </div>

  <!-- Ecran de chargement -->
  <div id="ecranChargement"></div>

  <!-- Bootstrap Script -->
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-kenU1KFdBIe4zVF0s0G1M5b4hcpxyD9F7jL+jjXkk+Q2h455rYXK/7HAuoJl+0I4" crossorigin="anonymous"></script>
  <!-- Script -->
  <script src="js/script.js"></script>
  <script src="js/requetes.js"></script>
  <!-- jQuery -->
  <script src="js/jQuery.js"></script>
  <script>
    $(function(){
      $("#ecranChargement").load("ecranChargement.html");
      $("#ecranChargement").fadeIn();
    });

    onload = function() {
      if(sessionStorage.getItem('userID') == null) {
        location.href = "connexion.html";
      } else {
        $.ajax(getUserById(sessionStorage.getItem('userID'))).done(function (response) {
          document.querySelector("#pseudo").value = response.username;
          document.querySelector("#nom").value = response.last_name;
          document.querySelector("#prenom").value = response.first_name;
          document.querySelector("#email").value = response.email;
          // Fin du chargement des données
          document.body.style.backgroundColor = "#E94E1B";
          fFinChargement();
        });
      }
    }

    function sendInformation() {
      const pseudo = document.querySelector("#pseudo").value;
      const nom = document.querySelector("#nom").value;
      const email = document.querySelector("#email").value;
      const motDePasse = document.querySelector("#motDePasse").value;
      // Modification du mot de passe
      if(motDePasse != "") {

      }
      // Conservation de l'ancien mot de passe
      else {

      }
    }
  </script>
</body>
</html>